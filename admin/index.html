<!DOCTYPE html>
<html lang="th">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô - ‡πÇ‡∏ö‡∏ß‡πå‡πÑ‡∏ß‡πâ‡∏≠‡∏≤‡∏•‡∏±‡∏¢</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="admin.css">
</head>

<body>
  <!-- Loading Screen -->
  <div class="loading-screen" id="loading-screen">
    <div class="loading-spinner"></div>
    <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå...</p>
  </div>

  <div class="admin-container" id="admin-container" style="display: none;">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h1>‡πÇ‡∏ö‡∏ß‡πå‡πÑ‡∏ß‡πâ‡∏≠‡∏≤‡∏•‡∏±‡∏¢</h1>
        <p>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</p>
      </div>
      <nav class="sidebar-nav">
        <a href="#" class="nav-item active" data-page="orders">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 2 6 9H22l-3-7H9Z"></path>
            <path d="M6 9H4a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h16"></path>
          </svg>
          ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠
        </a>
        <a href="#" class="nav-item" data-page="products">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="9" y1="9" x2="15" y2="15"></line>
            <line x1="15" y1="9" x2="9" y2="15"></line>
          </svg>
          ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
        </a>
        <a href="#" class="nav-item" data-page="reports">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 3v18h18"></path>
            <path d="m19 9-5 5-4-4-3 3"></path>
          </svg>
          ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
        </a>
        <a href="#" class="nav-item" data-page="settings">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6"></path>
            <path d="m1 12 6 0m6 0 6 0"></path>
          </svg>
          ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
        </a>
      </nav>
      <div class="sidebar-footer">
        <button class="btn-logout" id="logout-btn">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Orders Page -->
      <div class="page active" id="orders-page">
        <div class="page-header">
          <h2>‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
          <div class="header-actions">
            <div class="search-box">
              <input type="text" id="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠...">
            </div>
            <select id="status-filter" class="filter-select">
              <option value="">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
              <option value="pending">‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</option>
              <option value="processing">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</option>
              <option value="completed">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</option>
              <option value="cancelled">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</option>
            </select>
          </div>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon pending">üìã</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-pending">0</div>
              <div class="stat-label">‡∏£‡∏≠‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon processing">‚öôÔ∏è</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-processing">0</div>
              <div class="stat-label">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon completed">‚úÖ</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-completed">0</div>
              <div class="stat-label">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon total">üí∞</div>
            <div class="stat-info">
              <div class="stat-value" id="stat-total">‡∏ø0</div>
              <div class="stat-label">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°</div>
            </div>
          </div>
        </div>

        <div class="table-container">
          <table class="orders-table">
            <thead>
              <tr>
                <th>‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</th>
                <th>‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤</th>
                <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
                <th>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°</th>
                <th>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</th>
                <th>‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</th>
                <th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th>
                <th>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£</th>
              </tr>
            </thead>
            <tbody id="orders-tbody">
              <tr>
                <td colspan="8" class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="pagination" id="pagination">
          <!-- Pagination will be generated here -->
        </div>
      </div>

      <!-- Products Page -->
      <div class="page" id="products-page">
        <div class="page-header">
          <h2>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>
          <button class="btn-primary" onclick="showProductModal()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</button>
        </div>
        <div id="products-list">
          <p class="loading">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
        </div>
      </div>

      <!-- Reports Page -->
      <div class="page" id="reports-page">
        <div class="page-header">
          <h2>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô</h2>
        </div>

        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-info">
              <div class="stat-value" id="report-total-orders">0</div>
              <div class="stat-label">‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üí∞</div>
            <div class="stat-info">
              <div class="stat-value" id="report-total-sales">‡∏ø0</div>
              <div class="stat-label">‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢‡∏£‡∏ß‡∏°</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üìà</div>
            <div class="stat-info">
              <div class="stat-value" id="report-avg-order">‡∏ø0</div>
              <div class="stat-label">‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-info">
              <div class="stat-value" id="report-completed">0</div>
              <div class="stat-label">‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô</div>
            </div>
          </div>
        </div>

        <div class="chart-container">
          <h3>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢ 7 ‡∏ß‡∏±‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
          <canvas id="sales-chart"></canvas>
        </div>
      </div>

      <!-- Settings Page -->
      <div class="page" id="settings-page">
        <div class="page-header">
          <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h2>
        </div>
        <div class="settings-container">
          <div class="settings-section">
            <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡πâ‡∏≤‡∏ô</h3>
            <form id="shop-settings-form">
              <div class="form-group">
                <label>‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô</label>
                <input type="text" id="shop-name" value="‡πÇ‡∏ö‡∏ß‡πå‡πÑ‡∏ß‡πâ‡∏≠‡∏≤‡∏•‡∏±‡∏¢">
              </div>
              <div class="form-group">
                <label>‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
                <input type="text" id="shop-phone" value="02-xxx-xxxx">
              </div>
              <div class="form-group">
                <label>‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
                <input type="email" id="shop-email" value="info@bowties.com">
              </div>
              <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
            </form>
          </div>

          <div class="settings-section">
            <h3>‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô Telegram</h3>
            <form id="telegram-settings-form">
              <div class="form-group">
                <label>Bot Token</label>
                <input type="text" id="telegram-token" placeholder="123456:ABC-DEF...">
              </div>
              <div class="form-group">
                <label>Chat ID</label>
                <input type="text" id="telegram-chat-id" placeholder="-100...">
              </div>
              <div class="form-actions">
                <button type="button" class="btn-secondary" onclick="testTelegram()">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
                <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
              </div>
            </form>
          </div>

          <div class="settings-section">
            <h3>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
            <form id="password-form">
              <div class="form-group">
                <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°</label>
                <input type="password" id="old-password" required>
              </div>
              <div class="form-group">
                <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</label>
                <input type="password" id="new-password" required>
              </div>
              <div class="form-group">
                <label>‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà</label>
                <input type="password" id="confirm-password" required>
              </div>
              <button type="submit" class="btn-primary">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
            </form>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Order Detail Modal -->
  <div class="modal" id="order-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h3>
        <button class="modal-close" id="modal-close">&times;</button>
      </div>
      <div class="modal-body" id="modal-body">
        <!-- Order details will be loaded here -->
      </div>
    </div>
  </div>

  <!-- Product Modal -->
  <div class="modal" id="product-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="product-modal-title">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà</h3>
        <button class="modal-close" onclick="closeProductModal()">&times;</button>
      </div>
      <div class="modal-body">
        <form id="product-form" onsubmit="saveProduct(event)">
          <input type="hidden" id="product-id">

          <div class="form-group">
            <label for="product-name">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ *</label>
            <input type="text" id="product-name" required>
          </div>

          <div class="form-group">
            <label for="product-description">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</label>
            <textarea id="product-description" rows="3"></textarea>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="product-price">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ö‡∏≤‡∏ó) *</label>
              <input type="number" id="product-price" step="0.01" min="0" required>
            </div>

            <div class="form-group">
              <label for="product-stock">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ *</label>
              <input type="number" id="product-stock" min="0" required>
            </div>
          </div>

          <div class="form-group">
            <label for="product-category">‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà *</label>
            <select id="product-category" required>
              <option value="classic">Classic</option>
              <option value="premium">Premium</option>
              <option value="luxury">Luxury</option>
            </select>
          </div>

          <div class="form-group">
            <label for="product-image">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (path) *</label>
            <input type="text" id="product-image" placeholder="images/bow-1.png" required>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-secondary" onclick="closeProductModal()">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
            <button type="submit" class="btn-primary">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="admin.js"></script>
</body>

</html>